<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orecce Web Feed Tester</title>
    <script type="module" src="/src/main.js"></script>
  </head>
  <body>
    <main class="layout">
      <header class="header">
        <h1>Orecce Feed Tester</h1>
        <p>Local web interface for the AI-post backend emulator.</p>
      </header>

      <section class="card">
        <h2>Connection</h2>
        <label>
          Backend Base URL
          <input id="baseUrl" type="text" />
        </label>
        <div class="row">
          <button id="healthBtn">Health Check</button>
          <span id="healthStatus" class="status"></span>
        </div>
      </section>

      <section class="card">
        <h2>Feed Request</h2>
        <div class="grid two">
          <label>
            User ID
            <input id="userId" type="text" value="web-user-1" />
          </label>
          <label>
            Mode
            <select id="mode">
              <option value="BIOGRAPHY">BIOGRAPHY</option>
              <option value="TRIVIA">TRIVIA</option>
              <option value="NICHE">NICHE</option>
            </select>
          </label>
          <label>
            Profile
            <input id="profile" type="text" value="Bill Gates" />
          </label>
          <label>
            Length
            <select id="length">
              <option value="short">short</option>
              <option value="medium">medium</option>
            </select>
          </label>
        </div>
        <div class="row">
          <button id="generateBtn">Generate (JSON)</button>
          <button id="streamBtn">Generate (Stream)</button>
          <button id="listBtn">List Posts</button>
          <button id="moreBtn">Load More</button>
        </div>
      </section>

      <section class="card">
        <h2>Prompt Preferences</h2>
        <div class="grid two">
          <label>
            Biography Instructions
            <textarea id="bioInstructions" rows="4"></textarea>
          </label>
          <label>
            Niche Instructions
            <textarea id="nicheInstructions" rows="4"></textarea>
          </label>
        </div>
        <div class="row">
          <button id="loadPrefsBtn">Load Preferences</button>
          <button id="savePrefsBtn">Save Preferences</button>
        </div>
      </section>

      <section class="card">
        <h2>Latest Post</h2>
        <pre id="streamOutput" class="panel"></pre>
        <pre id="latestPost" class="panel"></pre>
      </section>

      <section class="card">
        <h2>Posts</h2>
        <pre id="postsOutput" class="panel"></pre>
      </section>

      <section class="card">
        <h2>Feedback</h2>
        <div class="grid three">
          <label>
            Post ID
            <input id="feedbackPostId" type="text" />
          </label>
          <label>
            Feedback Type
            <select id="feedbackType">
              <option value="upvote">upvote</option>
              <option value="downvote">downvote</option>
              <option value="skip">skip</option>
            </select>
          </label>
          <label>
            Page Size
            <input id="feedbackPageSize" type="number" min="1" max="50" value="20" />
          </label>
        </div>
        <div class="row">
          <button id="sendFeedbackBtn">Send Feedback</button>
          <button id="listFeedbackBtn">List Feedback</button>
        </div>
        <pre id="feedbackOutput" class="panel"></pre>
      </section>

      <section class="card">
        <h2>API Log</h2>
        <pre id="logOutput" class="panel"></pre>
      </section>
    </main>
  </body>
</html>
