<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orecce Feed</title>
    <script type="module" src="/src/main.js"></script>
  </head>
  <body>
    <div class="bg-glow"></div>
    <main class="app-shell">
      <header class="topbar">
        <div>
          <p class="brand-eyebrow">Orecce</p>
          <h1>Story Feed</h1>
        </div>
        <span id="healthPill" class="pill">Checking backend...</span>
      </header>

      <section id="setupScreen" class="screen">
        <div class="screen-head">
          <p class="step">Step 1 of 2</p>
          <h2>Choose your feed</h2>
          <p>Select one track, pick a topic, then jump into an endless story feed.</p>
        </div>

        <div class="surface">
          <div class="segment-title">Pick one</div>
          <div id="modeGrid" class="mode-grid"></div>

          <div class="segment-title">Choose an option</div>
          <h3 id="optionHeading" class="option-heading"></h3>
          <div id="optionGrid" class="option-grid"></div>

          <div class="field-grid">
            <label>
              User ID
              <input id="userId" type="text" />
            </label>

            <label>
              Length
              <select id="length">
                <option value="short">short</option>
                <option value="medium">medium</option>
              </select>
            </label>
          </div>

          <details class="advanced">
            <summary>Advanced Connection Settings</summary>
            <div class="field-grid single">
              <label>
                Backend Base URL
                <input id="baseUrl" type="text" />
              </label>
            </div>
          </details>

          <div class="actions">
            <button id="checkHealthBtn" class="btn ghost">Check Connection</button>
            <button id="enterFeedBtn" class="btn primary">Enter Feed</button>
          </div>
        </div>
      </section>

      <section id="feedScreen" class="screen hidden">
        <div class="screen-head feed-head">
          <div>
            <p class="step">Step 2 of 2</p>
            <h2 id="feedTitle">Loading feed...</h2>
            <p id="feedSubtitle">Scroll to keep generating more stories.</p>
          </div>
          <div class="actions compact">
            <button id="backToSetupBtn" class="btn ghost">Back to Setup</button>
            <button id="generateNowBtn" class="btn primary">Generate Now</button>
          </div>
        </div>

        <section id="streamPanel" class="stream-panel">
          <p id="generationStatus">Preparing your stories...</p>
        </section>

        <section id="feedList" class="feed-list"></section>

        <div id="feedSentinel" class="feed-sentinel">Scroll for more</div>
      </section>
    </main>

    <div id="toast" class="toast hidden"></div>
  </body>
</html>
