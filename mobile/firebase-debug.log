[debug] [2026-02-01T09:31:09.128Z] ----------------------------------------------------------------------
[debug] [2026-02-01T09:31:09.130Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions:agent
[debug] [2026-02-01T09:31:09.130Z] CLI Version:   14.16.0
[debug] [2026-02-01T09:31:09.130Z] Platform:      darwin
[debug] [2026-02-01T09:31:09.130Z] Node Version:  v22.14.0
[debug] [2026-02-01T09:31:09.130Z] Time:          Sun Feb 01 2026 13:31:09 GMT+0400 (Gulf Standard Time)
[debug] [2026-02-01T09:31:09.130Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-02-01T09:31:09.203Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-01T09:31:09.203Z] > authorizing via signed-in user (admin@sodhera.com)
[debug] [2026-02-01T09:31:09.203Z] [iam] checking project audit-3a7ec for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2026-02-01T09:31:09.203Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:09.204Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:09.204Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec:testIamPermissions [none]
[debug] [2026-02-01T09:31:09.204Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec:testIamPermissions x-goog-quota-user=projects/audit-3a7ec
[debug] [2026-02-01T09:31:09.204Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-01T09:31:10.755Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec:testIamPermissions 200
[debug] [2026-02-01T09:31:10.755Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-01T09:31:10.756Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:10.756Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:10.756Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/audit-3a7ec/serviceAccounts/audit-3a7ec@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2026-02-01T09:31:10.756Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/audit-3a7ec/serviceAccounts/audit-3a7ec@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2026-02-01T09:31:11.297Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/audit-3a7ec/serviceAccounts/audit-3a7ec@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2026-02-01T09:31:11.297Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/audit-3a7ec/serviceAccounts/audit-3a7ec@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'audit-3a7ec'...
[info] 
[info] i  deploying functions 
[debug] [2026-02-01T09:31:11.303Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:11.303Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:11.303Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec [none]
[debug] [2026-02-01T09:31:11.588Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec 200
[debug] [2026-02-01T09:31:11.589Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec {"projectNumber":"734175123527","projectId":"audit-3a7ec","lifecycleState":"ACTIVE","name":"audit","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-10-22T12:28:45.178119Z","parent":{"type":"organization","id":"446022440797"}}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2026-02-01T09:31:11.595Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:11.595Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:11.595Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/audit-3a7ec/adminSdkConfig [none]
[debug] [2026-02-01T09:31:12.136Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/audit-3a7ec/adminSdkConfig 200
[debug] [2026-02-01T09:31:12.136Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/audit-3a7ec/adminSdkConfig {"projectId":"audit-3a7ec","databaseURL":"https://audit-3a7ec-default-rtdb.firebaseio.com","storageBucket":"audit-3a7ec.firebasestorage.app"}
[debug] [2026-02-01T09:31:12.137Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.138Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.138Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs [none]
[debug] [2026-02-01T09:31:12.707Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs 200
[debug] [2026-02-01T09:31:12.707Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs {"configs":[{"name":"projects/audit-3a7ec/configs/resend"},{"name":"projects/audit-3a7ec/configs/tracking"},{"name":"projects/audit-3a7ec/configs/email"},{"name":"projects/audit-3a7ec/configs/finnhub"},{"name":"projects/audit-3a7ec/configs/newsletter_ingest"}]}
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:12.708Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/resend/variables [none]
[debug] [2026-02-01T09:31:12.710Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/tracking/variables [none]
[debug] [2026-02-01T09:31:12.714Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables [none]
[debug] [2026-02-01T09:31:12.717Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/finnhub/variables [none]
[debug] [2026-02-01T09:31:12.721Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/newsletter_ingest/variables [none]
[debug] [2026-02-01T09:31:13.018Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/resend/variables 200
[debug] [2026-02-01T09:31:13.018Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/resend/variables {"variables":[{"name":"projects/audit-3a7ec/configs/resend/variables/api_key","updateTime":"2025-11-20T13:53:59.458671147Z"}]}
[debug] [2026-02-01T09:31:13.019Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.019Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.020Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/resend/variables/api_key [none]
[debug] [2026-02-01T09:31:13.131Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/tracking/variables 200
[debug] [2026-02-01T09:31:13.132Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/tracking/variables {"variables":[{"name":"projects/audit-3a7ec/configs/tracking/variables/force_news_alerts","updateTime":"2025-12-28T05:16:10.633937274Z"}]}
[debug] [2026-02-01T09:31:13.132Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.132Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.132Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/tracking/variables/force_news_alerts [none]
[debug] [2026-02-01T09:31:13.151Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/finnhub/variables 200
[debug] [2026-02-01T09:31:13.151Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/finnhub/variables {"variables":[{"name":"projects/audit-3a7ec/configs/finnhub/variables/key","updateTime":"2025-12-01T10:16:32.930178907Z"}]}
[debug] [2026-02-01T09:31:13.152Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.152Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.152Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/finnhub/variables/key [none]
[debug] [2026-02-01T09:31:13.153Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables 200
[debug] [2026-02-01T09:31:13.153Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables {"variables":[{"name":"projects/audit-3a7ec/configs/email/variables/from_name","updateTime":"2025-12-28T05:16:10.238847923Z"},{"name":"projects/audit-3a7ec/configs/email/variables/provider","updateTime":"2025-12-28T05:16:11.178316765Z"},{"name":"projects/audit-3a7ec/configs/email/variables/enabled","updateTime":"2025-12-28T05:16:12.163571331Z"},{"name":"projects/audit-3a7ec/configs/email/variables/from_address","updateTime":"2025-12-28T05:16:09.855804831Z"}]}
[debug] [2026-02-01T09:31:13.154Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.154Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.154Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.154Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.154Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.154Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.154Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.154Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.154Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/from_name [none]
[debug] [2026-02-01T09:31:13.155Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/provider [none]
[debug] [2026-02-01T09:31:13.155Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/enabled [none]
[debug] [2026-02-01T09:31:13.160Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/from_address [none]
[debug] [2026-02-01T09:31:13.165Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/newsletter_ingest/variables 200
[debug] [2026-02-01T09:31:13.165Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/newsletter_ingest/variables {"variables":[{"name":"projects/audit-3a7ec/configs/newsletter_ingest/variables/enabled","updateTime":"2026-01-23T12:44:55.370588047Z"},{"name":"projects/audit-3a7ec/configs/newsletter_ingest/variables/max_payload_bytes","updateTime":"2026-01-23T12:44:55.989375989Z"}]}
[debug] [2026-02-01T09:31:13.165Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.165Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.165Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.165Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:13.165Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/newsletter_ingest/variables/enabled [none]
[debug] [2026-02-01T09:31:13.166Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/newsletter_ingest/variables/max_payload_bytes [none]
[debug] [2026-02-01T09:31:13.315Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/resend/variables/api_key 200
[debug] [2026-02-01T09:31:13.315Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/resend/variables/api_key {"name":"projects/audit-3a7ec/configs/resend/variables/api_key","updateTime":"2025-11-20T13:53:59.458671147Z","text":"re_V3L2k8Nc_36CvuvFjaCT72tysRv6eou9m"}
[debug] [2026-02-01T09:31:13.404Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/tracking/variables/force_news_alerts 200
[debug] [2026-02-01T09:31:13.404Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/tracking/variables/force_news_alerts {"name":"projects/audit-3a7ec/configs/tracking/variables/force_news_alerts","updateTime":"2025-12-28T05:16:10.633937274Z","text":"true"}
[debug] [2026-02-01T09:31:13.440Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/finnhub/variables/key 200
[debug] [2026-02-01T09:31:13.441Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/finnhub/variables/key {"name":"projects/audit-3a7ec/configs/finnhub/variables/key","updateTime":"2025-12-01T10:16:32.930178907Z"}
[debug] [2026-02-01T09:31:13.444Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/from_name 200
[debug] [2026-02-01T09:31:13.445Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/from_name {"name":"projects/audit-3a7ec/configs/email/variables/from_name","updateTime":"2025-12-28T05:16:10.238847923Z","text":"Orecce Alerts"}
[debug] [2026-02-01T09:31:13.445Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/provider 200
[debug] [2026-02-01T09:31:13.446Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/provider {"name":"projects/audit-3a7ec/configs/email/variables/provider","updateTime":"2025-12-28T05:16:11.178316765Z","text":"resend"}
[debug] [2026-02-01T09:31:13.596Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/newsletter_ingest/variables/max_payload_bytes 200
[debug] [2026-02-01T09:31:13.596Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/newsletter_ingest/variables/max_payload_bytes {"name":"projects/audit-3a7ec/configs/newsletter_ingest/variables/max_payload_bytes","updateTime":"2026-01-23T12:44:55.989375989Z","text":"1000000"}
[debug] [2026-02-01T09:31:13.597Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/from_address 200
[debug] [2026-02-01T09:31:13.598Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/from_address {"name":"projects/audit-3a7ec/configs/email/variables/from_address","updateTime":"2025-12-28T05:16:09.855804831Z","text":"alerts@orecce.com"}
[debug] [2026-02-01T09:31:13.598Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/newsletter_ingest/variables/enabled 200
[debug] [2026-02-01T09:31:13.598Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/newsletter_ingest/variables/enabled {"name":"projects/audit-3a7ec/configs/newsletter_ingest/variables/enabled","updateTime":"2026-01-23T12:44:55.370588047Z","text":"true"}
[debug] [2026-02-01T09:31:13.672Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/enabled 200
[debug] [2026-02-01T09:31:13.673Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/audit-3a7ec/configs/email/variables/enabled {"name":"projects/audit-3a7ec/configs/email/variables/enabled","updateTime":"2025-12-28T05:16:12.163571331Z","text":"true"}
[debug] [2026-02-01T09:31:13.677Z] Validating nodejs source
[warn] âš   functions: Runtime Node.js 20 will be deprecated on 2026-04-30 and will be decommissioned on 2026-10-30, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[debug] [2026-02-01T09:31:14.054Z] > [functions] package.json contents: {
  "name": "tracking-agents-functions",
  "version": "0.1.0",
  "private": true,
  "main": "lib/functions/src/index.js",
  "engines": {
    "node": "20"
  },
  "scripts": {
    "build": "tsc",
    "lint": "echo \"No lint configured\"",
    "predeploy": "npm run build"
  },
  "dependencies": {
    "@google-cloud/bigquery": "^7.9.1",
    "@google-cloud/firestore": "^7.11.3",
    "@google-cloud/logging": "^11.2.1",
    "dotenv": "^17.2.3",
    "express": "^4.18.2",
    "fast-xml-parser": "^5.3.2",
    "firebase-admin": "^13.6.0",
    "firebase-functions": "^7.0.0",
    "openai": "^6.9.1",
    "svix": "^1.84.1",
    "undici": "^5.28.3",
    "zod": "^3.25.76"
  },
  "devDependencies": {
    "@types/node": "^24.10.1",
    "typescript": "^5.4.0"
  }
}
[debug] [2026-02-01T09:31:14.054Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2026-02-01T09:31:14.054Z] Could not find functions.yaml. Must use http discovery
[debug] [2026-02-01T09:31:14.059Z] Found firebase-functions binary at '/Users/sulavshrestha/Documents/[2] Work/[3]DrEagle/DREAGLE-BACKEND/node_modules/.bin/firebase-functions'
[info] Serving at port 8984

[info] [agent] Sample generation service: DISABLED (AI_ENABLED=false)

[debug] [2026-02-01T09:31:15.044Z] Got response from /__/functions.yaml {"endpoints":{"agent":{"availableMemoryMb":512,"timeoutSeconds":120,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":"audit-3a7ec@appspot.gserviceaccount.com","vpc":null,"platform":"gcfv2","region":["us-central1"],"secretEnvironmentVariables":[{"key":"OPENAI_API_KEY"},{"key":"EMAIL_API_KEY"}],"labels":{},"httpsTrigger":{},"entryPoint":"agent"},"onSampleGenerationRequested":{"availableMemoryMb":512,"timeoutSeconds":300,"minInstances":null,"maxInstances":5,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":"audit-3a7ec@appspot.gserviceaccount.com","vpc":null,"platform":"gcfv2","region":["us-central1"],"secretEnvironmentVariables":[{"key":"OPENAI_API_KEY"}],"labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"users/{userId}/sampleGenerations/{sampleId}"},"retry":false},"entryPoint":"onSampleGenerationRequested"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2026-02-01T09:31:19.080Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-01T09:31:19.080Z] > authorizing via signed-in user (admin@sodhera.com)
[debug] [2026-02-01T09:31:19.080Z] [iam] checking project audit-3a7ec for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2026-02-01T09:31:19.080Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:19.080Z] Checked if tokens are valid: true, expires at: 1769941858019
[debug] [2026-02-01T09:31:19.080Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec:testIamPermissions [none]
[debug] [2026-02-01T09:31:19.080Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec:testIamPermissions x-goog-quota-user=projects/audit-3a7ec
[debug] [2026-02-01T09:31:19.080Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/audit-3a7ec:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
